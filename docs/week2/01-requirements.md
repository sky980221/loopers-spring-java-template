<h2>상품 목록 조회</h2>

  **시나리오** : 사용자는 상품 목록을 조회한다. 특정 브랜드로 필터링을 할 수 있고, 다양한 정렬 기능을 사용할 수 있다.

  **Main Flow :**

    1. [사용자] 상품 목록 화면에 진입한다.
    2. [시스템] 기본 조건(필터/정렬 없음)으로 상품 목록을 조회한다.
    3. [시스템] 조회된 상품 목록을 화면에 표시한다 (표시 항목: 상품명, 좋아요 수)
    4. [사용자] 특정 브랜드를 선택하여 필터링한다.
    5. [시스템] 선택된 브랜드 기준으로 다시 목록을 조회하여 표시한다.
    6. [사용자] 정렬 기준을 선택한다. (최근 / 가격 낮은 순 / 좋아요 높은 순)
    7. [시스템] 선택된 정렬 기준에 따라 목록을 다시 조회하여 표시한다.
    8. [사용자] 페이지 번호를 선택한다.
    9. [시스템] 선택된 페이지의 목록을 조회하여 표시한다.

  **Alternate Flow :**

    - (3a) 상품 목록이 비어있을 시 빈 페이지를 반환하고 “판매중인 상품이 없습니다. 필터를 변경해 보세요” 를 반환한다. 하단에는 필터 초기화 버튼이 존재하여 클릭하면 2으로 돌아간다.
    - (4a) 사용자가 선택한 브랜드를 다시 클릭하면, 시스템은 필터를 해제하고 전체 목록을 표시한다.
    - (4b) 사용자가 여러 브랜드를 선택하면, 시스템은 OR 조건으로 목록을 조회하여 표시한다.
    - (6a) 사용자가 정렬 조건을 변경하면, 시스템은 새로운 조건으로 정렬된 목록을 다시 표시한다.

  **Exception Flow :**

    - (2a) 서버 오류/네트워크 장애로 목록을 조회할 수 없는 경우, 에러 메시지를 반환하고, 해당 작업을 중단한다.
    - (9a) 사용자가 존재하지 않는 페이지 번호를 요청할 경우, 에러 메시지를 반환하고, 해당 작업을 중단한다.
<h2>상품 정보 조회</h2>

  **시나리오** : 사용자는 상품의 상세한 정보를 본다

  **Main Flow :**

    1. [사용자] 상품 목록 화면에서 특정 상품을 클릭한다.
    2. [시스템] 해당 상품의 ID로 조회한다.
    3. [시스템] 조회된 상품을 화면에 표시한다 (표시 항목: 상품명, 좋아요 수)

  **Exception Flow :**

    - (2a) 서버 오류/네트워크 장애로 상품을 조회할 수 없는 경우, 에러 메세지를 반환하고, 목록 화면으로 이동한다.
    - (2b) 잘못된 상품 ID이거나 상품이 삭제된 경우, 에러 메세지를 반환하고, 목록 화면으로 이동한다.
<h2>브랜드 정보 조회</h2>

  **시나리오** : 사용자는 특정 브랜드의 상세한 정보를 본다.

  **Main Flow :**

    1. [사용자] 특정 브랜드를 클릭한다.
    2. [시스템] 특정 브랜드의 ID로 조회한다.
    3. [시스템] 조회된 브랜드를 화면에 표시한다

  **Exception Flow :**

    - (2a) 서버 오류/네트워크 장애로 브랜드를 조회할 수 없는 경우, 에러 메세지를 반환하고, 목록 화면으로 이동한다.
    - (2b) 잘못된 브랜드 ID인 경우, 에러 메세지를 반환하고, 목록 화면으로 이동한다.
<h2>상품 좋아요 등록/취소</h2>

  **시나리오** : 사용자는 하트 버튼을 클릭하여 좋아요를 등록하거나 취소할 수 있다.

  **Main Flow :**

    1. [사용자] 하트 버튼을 클릭한다.
    2. [시스템] 로그인 상태인지 아닌지 확인한다.
    3. [시스템] 현재 좋아요가 눌려있는 상태인지 확인한다.
    4. [시스템] 현재 상태에 따라 처리한다.
        - 좋아요 등록되지 않은 상태 → 좋아요를 등록하고 좋아요 수를 +1
        - 좋아요 등록된 상태 → 좋아요를 취소하고 좋아요 수를 −1
    5. [시스템] 변경된 좋아요 상태와 좋아요 수를 화면에 반영한다.

  **Exception Flow :**

    - (2a) 사용자가 로그인 상태가 아닌 경우에는 에러 메시지를 반환하고, 해당 작업을 중단한다.
    - (4a) 서버 오류/네트워크 장애로 좋아요 처리를 할 수 없는 경우, 에러 메시지를 반환하고, 해당 작업을 중단한다.
<h2>내가 좋아요 한 상품 목록 조회</h2>

  **시나리오** :  사용자가 좋아요 누른 상품 목록을 확인한다.

  **Main Flow :**

    1. [사용자] 좋아요 누른 상품 페이지로 이동한다.
    2. [시스템] 로그인 여부를 확인한다.
    3. [시스템] 사용자가 좋아요 누른 상품을 DB에서 조회한다.
    4. [시스템] 조회한 상품 목록을 표시한다.

  **Alternate Flow :**

    - (3a) 조회 결과가 없을 경우 빈 페이지를 반환하고, “좋아요한 상품이 없습니다.” 메시지를 보여준다.

  **Exception Flow :**

    - (2a) 사용자가 로그인 상태가 아닌 경우 에러 메시지를 반환하고, 해당 작업을 중단한다.
    - (3a) 서버 오류/네트워크 장애로 목록을 가져올 수 없는 경우 에러 메시지를 반환하고, 해당 작업을 중단한다.
<h2>주문 요청</h2>

  **시나리오** : 사용자는 장바구니의 상품으로 주문을 생성한다. 주문 시 재고 확인 및 차감, 보유 포인트 차감, 주문 정보의 외부 시스템 전송이 수행된다.

  **Main Flow :**

    1. [사용자] 사용자가 상품 목록을 포함하여 주문 생성 요청을 보낸다.
    2. [시스템] 로그인 여부를 확인한다.
    3. [시스템] 요청의 유효성을 검증한다
        1. 상품 목록은 비어있지 않다
        2. 수량은 양수
        3. 상품 id는 중복 되어서는 안됨
    4. [시스템] 각 상품의 재고를 확인한다.
    5. [시스템] 주문할 상품 목록으로 총 주문 금액을 계산한다.
    6. [시스템] 사용자 보유 포인트가 주문 금액 이상인지 확인한다.
    7. [시스템] 재고와 포인트가 충분한 경우 주문을 생성한다.
    8. [시스템] 주문 수량만큼 재고를 차감하고, 주문 금액만큼 포인트를 차감한다.
    9. [시스템] 주문 정보를 외부 시스템에 전송한다.
    10. [시스템] 주문 정보를 클라이언트에 반환한다.

  **Exception Flow :**

    - (2a) 사용자가 로그인 상태가 아닌 경우에는 에러 메시지를 반환하고, 해당 작업을 중단한다.
    - (3a) 유효성 검증에 통과하지 못하면 에러 메시지를 반환하고, 해당 작업을 중단한다.
    - (4a) 상품의 재고가 모자르면 에러 메시지를 반환하고, 해당 작업을 중단한다.
    - (6a) 사용자 보유 포인트가 주문 금액보다 적으면 에러 메시지를 반환하고, 해당 작업을 중단한다.
<h2>유저의 주문 목록 조회</h2>

  **시나리오** : 사용자는 주문한 목록을 조회한다.

  **Main Flow :**

    1. [사용자] 주문 목록 페이지로 이동한다.
    2. [시스템] 로그인 여부를 확인한다.
    3. [시스템] 사용자가 주문한 제품을 DB에서 조회한다.
    4. [시스템] 조회한 주문 목록을 표시한다.

  **Alternate Flow :**

    - (4a) 조회 결과가 없는 경우 빈 페이지를 반환하고, “주문 내역이 없습니다.” 메세지를 보여준다.

  **Exception Flow :**

    - (2a) 사용자가 로그인 상태가 아닌 경우에는 에러 메시지를 반환하고, 해당 작업을 중단한다.
    - (3a) 서버 오류/네트워크 장애로 목록을 가져올 수 없는 경우, 에러 메시지를 반환하고, 해당 작업을 중단한다.
<h2>단일 주문 상세 조회</h2>

  **시나리오** : 사용자는 단일 주문에 대한 상세한 정보를 얻을 수 있다.

  **Main Flow :**

    1. [사용자] 주문 목록 페이지에서 특정 주문을 클릭한다.
    2. [시스템] 주문 ID를 통해 해당 주문 정보를 조회한다.
    3. [시스템] 선택된 주문에 대한 정보를 표시한다.

  **Exception Flow :**

    - (2a) 사용자가 로그인 상태가 아닌 경우, 에러 메시지를 반환하고, 해당 작업을 중단한다.
    - (2b) 해당 주문 ID가 존재하지 않거나 삭제된 경우, 에러 메시지를 반환하고, 해당 작업을 중단한다.
    - (2c) 서버 오류/네트워크 장애로 주문을 가져올 수 없는 경우, 에러 메시지를 반환하고, 해당 작업을 중단한다.

<h2>유비쿼터스 언어</h2>

```
상품 → Product
사용자 → User
좋아요 → Like
주문 → Order
브랜드 → Brand 
포인트 → Point
```